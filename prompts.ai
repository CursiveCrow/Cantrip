# Original Prompt

read the contents of @Cursive-Language-Specification\02_Lexical-Structure-and-Translation and write an improved chapter 2 document following the @Cursive-Language-Specification\STYLE-GUIDE.md and improving the prose, formalism, clarity, and efficiecy of the chapter. Cross reference other chapters of the specification to ensure your new chapter is fully consistent with the rest of the design, does not introduce errors or incorrect information into the specification. For any underspecified or undesigned content that needs specification and is NOT present in the other specification documenets. present the design or question to me with relevant context, and well-thought-out options to resolve or finalize the design. For each option, include an evaluation as to whether it increases or decreases cursive's expressiveness, power, and alignment with its language design philosophy and goals. 

---

# Enhanced Prompt

Read the complete contents of all files in the directory `Cursive-Language-Specification\02_Lexical-Structure-and-Translation\` line by line, without skipping any content.

Then, write an improved, consolidated Chapter 2 document that:

1. **Follows the style guide**: Adheres strictly to all conventions, formatting rules, and prose standards defined in `Cursive-Language-Specification\STYLE-GUIDE.md`

2. **Improves quality across multiple dimensions**:
   - **Prose**: Enhance clarity, readability, and precision of language
   - **Formalism**: Strengthen technical rigor and formal definitions where appropriate
   - **Clarity**: Eliminate ambiguity and ensure concepts are explained unambiguously
   - **Efficiency**: Remove redundancy, improve organization, and streamline explanations

3. **Ensures consistency**: Cross-reference all other chapters in the `Cursive-Language-Specification\` directory to verify that your revised Chapter 2:
   - Uses consistent terminology and definitions
   - Does not contradict information in other chapters
   - Does not introduce errors or incorrect information
   - Aligns with established language semantics and design decisions

4. **Handles underspecified content**: For any concepts that are underspecified, ambiguous, or not yet designed in the existing specification documents:
   - **Do NOT invent or assume design decisions**
   - Present the design question or gap to me with:
     - Relevant context from the existing specification
     - 2-4 well-reasoned design options to resolve the issue
     - For each option, provide an evaluation that addresses:
       * Impact on Cursive's expressiveness
       * Impact on Cursive's power and capabilities
       * Alignment with Cursive's language design philosophy and goals (memory safety, deterministic performance, AI-assisted development, explicit over implicit, local reasoning, zero abstraction cost, LLM-friendly patterns, simple ownership)
       * Trade-offs and implications for the language

5. **Output format**: Present the improved Chapter 2 as a complete, ready-to-use markdown document that can replace the existing chapter content.

Before beginning, confirm you have read all files in the Chapter 2 directory completely and understand the full scope of the revision task.

---

Read the complete contents of all files in the `Cursive-Language-Specification/04_Modules/` directory, line by line, without skipping any content.

Then, read the complete contents of `Cursive-Language-Specification/STYLE-GUIDE.md` to understand the required writing style, formatting conventions, and documentation standards.

Next, read all other chapters of the Cursive Language Specification to ensure full understanding of the language design, semantics, and existing specifications.

After completing all reading, write an improved Chapter 4 into a single document that:

1. **Follows the Style Guide**: Adheres strictly to all conventions in `STYLE-GUIDE.md` including prose style, formatting, section structure, and terminology usage.

2. **Improves Quality**: Enhances the chapter's:
   - Prose clarity and readability
   - Formal precision and rigor
   - Logical organization and flow
   - Conciseness and efficiency (eliminate redundancy while maintaining completeness)

3. **Ensures Consistency**: Cross-references all other specification chapters to guarantee that Chapter 4:
   - Uses consistent terminology and definitions
   - Does not contradict other chapters
   - Does not introduce errors or incorrect information
   - Properly references related concepts defined elsewhere

4. **Verifies Formal Correctness**: For all syntax, grammar, and formal specifications:
   - Express them using appropriate formal prose and/or LaTeX (for math, theory, logical/formal equations) notation, not EBNF fragments.
   - Cross-verify against the ANTLR grammar defined in the grammar annex
   - Flag any discrepancies between the prose/LaTeX and ANTLR grammar for resolution
   - Ensure all formal notation is mathematically precise and unambiguous

5. **Uses Mermaid for Visualizations**: Replace any charts, graphs, or diagrams with properly formatted Mermaid syntax.

6. **Handles Underspecified Content**: For any content that is underspecified, ambiguous, or requires design decisions that are NOT addressed in other specification documents:
   - Do NOT invent or assume design decisions
   - Present the issue to me with:
     * Full context explaining what needs specification
     * 2-4 well-reasoned design options to resolve the issue
     * For each option, provide a detailed evaluation covering:
       - Impact on Cursive's expressiveness (increases/decreases/neutral)
       - Impact on Cursive's power and capabilities (increases/decreases/neutral)
       - Alignment with Cursive's design philosophy (explicit over implicit, local reasoning, zero abstraction cost, LLM-friendly, simple ownership, no macros)
       - Alignment with Cursive's safety model and goals (memory safety, deterministic performance, AI-assisted development)
       - Trade-offs and implications for users and implementers

Before beginning the rewrite, confirm you have read all necessary files completely and present a brief summary of what you found in the current Chapter 4 and any immediate concerns or questions.